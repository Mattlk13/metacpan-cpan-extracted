var saveAs=saveAs||function(l){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var p=l.document,w=function(){return l.URL||l.webkitURL||l},v=p.createElementNS("http://www.w3.org/1999/xhtml","a"),y="download"in v,m=l.webkitRequestFileSystem,h=l.requestFileSystem||m||l.mozRequestFileSystem,i=function(e){(l.setImmediate||l.setTimeout)(function(){throw e},0)},S="application/octet-stream",O=0,E=function(e){function t(){"string"==typeof e?w().revokeObjectURL(e):e.remove()}l.chrome?t():setTimeout(t,500)},R=function(e,t,n){for(var o=(t=[].concat(t)).length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){i(e)}}},b=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},n=function(o,n){o=b(o);function e(){R(f,"writestart progress write writeend".split(" "))}function r(){!s&&t||(t=w().createObjectURL(o)),a?a.location.href=t:null==l.open(t,"_blank")&&"undefined"!=typeof safari&&(l.location.href=t),f.readyState=f.DONE,e(),E(t)}function i(e){return function(){if(f.readyState!==f.DONE)return e.apply(this,arguments)}}var t,a,c,f=this,u=o.type,s=!1,d={create:!0,exclusive:!1};if(f.readyState=f.INIT,n=n||"download",y)return t=w().createObjectURL(o),v.href=t,v.download=n,function(e){var t=p.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,l,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}(v),f.readyState=f.DONE,e(),void E(t);l.chrome&&u&&u!==S&&(c=o.slice||o.webkitSlice,o=c.call(o,0,o.size,S),s=!0),m&&"download"!==n&&(n+=".download"),u!==S&&!m||(a=l),h?(O+=o.size,h(l.TEMPORARY,O,i(function(e){e.root.getDirectory("saved",d,i(function(e){function t(){e.getFile(n,d,i(function(n){n.createWriter(i(function(t){t.onwriteend=function(e){a.location.href=n.toURL(),f.readyState=f.DONE,R(f,"writeend",e),E(n)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&r()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=f["on"+e]}),t.write(o),f.abort=function(){t.abort(),f.readyState=f.DONE},f.readyState=f.WRITING}),r)}),r)}e.getFile(n,{create:!1},i(function(e){e.remove(),t()}),i(function(e){e.code===e.NOT_FOUND_ERR?t():r()}))}),r)}),r)):r()},e=n.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t){return navigator.msSaveOrOpenBlob(b(e),t)}:(e.abort=function(){this.readyState=this.DONE,R(this,"abort")},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(e,t){return new n(e,t)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});