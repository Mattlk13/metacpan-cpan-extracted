!function(){var n=function(e,t){return $("#msg").attr("trspan",e),$("#msg").html(window.translate(e)),$("#color").removeClass("message-positive message-warning message-danger alert-success alert-warning alert-danger"),$("#color").addClass("message-"+t),"positive"===t&&(t="success"),$("#color").addClass("alert-"+t)},r=function(e){return"unsupported"!==e.name?n("webAuthnBrowserFailed","danger"):n("webAuthnUnsupported","warning")},e=function(){var e,t=jQuery.Event("webauthnAttempt");if($(document).trigger(t),!t.isDefaultPrevented())return n("webAuthnBrowserInProgress","warning"),e=window.datas.request,WebAuthnUI.WebAuthnUI.getCredential(e).then(function(e){if(t=jQuery.Event("webauthnSuccess"),$(document).trigger(t,[e]),!t.isDefaultPrevented())return $("#credential").val(JSON.stringify(e)),$("#verify-form").submit()}).catch(function(e){if(t=jQuery.Event("webauthnFailure"),$(document).trigger(t,[e]),!t.isDefaultPrevented())return r(e)})};$(document).ready(function(){return setTimeout(e,1e3),$("#retrybutton").on("click",e)})}.call(this);