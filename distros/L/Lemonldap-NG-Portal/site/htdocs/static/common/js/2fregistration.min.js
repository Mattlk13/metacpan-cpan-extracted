(function(){var e,r,n;n=function(e,r){return $("#msg").attr("trspan",e),$("#msg").html(window.translate(e)),$("#color").removeClass("message-positive message-warning alert-success alert-warning"),$("#color").addClass("message-"+r),"positive"===r&&(r="success"),$("#color").addClass("alert-"+r),$("#color").attr("role","status")},r=function(e,r,t){var o;if(console.log("Error",t),(o=JSON.parse(e.responseText))&&o.error)return o=o.error.replace(/.* /,""),console.log("Returned error",o),o.match(/module/)?n("notAuthorized","warning"):n(o,"warning")},e=function(t,o,e){return e=e||("U2F"===t?"u":"UBK"===t?"yubikey":"TOTP"===t?"totp":"WebAuthn"===t?"webauthn":t.toLowerCase()),$.ajax({type:"POST",url:portal+"2fregisters/"+e+"/delete",data:{epoch:o},dataType:"json",error:r,success:function(e){var r;return e.error?e.error.match(/notAuthorized/)?n("notAuthorized","warning"):n("unknownAction","warning"):e.result&&($("#delete-"+o).hide(),r=jQuery.Event("mfaDeleted"),$(document).trigger(r,[{type:t,epoch:o}]),!r.isDefaultPrevented())?n("yourKeyIsUnregistered","positive"):void 0},error:r})},$(document).ready(function(){return $("body").on("click",".remove2f",function(){return e($(this).attr("device"),$(this).attr("epoch"),$(this).attr("prefix"))}),$("#goback").attr("href",portal),$(".data-epoch").each(function(){var e;return e=new Date(1e3*$(this).text()),$(this).text(e.toLocaleString())})})}).call(this);