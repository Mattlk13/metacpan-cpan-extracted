!function(){var r=new Map([["Err","bg-danger"],["0","bg-danger"],["1","bg-warning"],["2","bg-info"],["3","bg-primary"],["4","bg-success"]]),n=new Map([["Err","0"],["0","20"],["1","40"],["2","60"],["3","80"],["4","100"]]),a=function(e){return $("#entropybar div").removeClass(),$("#entropybar div").addClass("progress-bar"),$("#entropybar div").width(n.get(e)+"%"),$("#entropybar div").addClass(r.get(e)),$("#entropybar div").html(n.get(e)+"%")},c=function(e){return $("#entropybar-msg").html(e),0===e.length?$("#entropybar-msg").addClass("entropyHidden"):$("#entropybar-msg").removeClass("entropyHidden")};$(document).on("checkpassword",function(e,r){r.password,r.evType;var n,o,t=r.setResult;if(0<$("#ppolicy-checkentropy-feedback").length&&(r=$("#newpassword").val(),n=$("span[trspan='checkentropyLabel']").attr("data-checkentropy_required"),o=$("span[trspan='checkentropyLabel']").attr("data-checkentropy_required_level"),0===r.length&&(a("Err"),c(""),t("ppolicy-checkentropy-feedback","unknown")),0<r.length))return $.ajax({dataType:"json",url:"/checkentropy",method:"POST",data:{password:btoa(r)},context:document.body,success:function(e){var r=e.level,e=e.message;if(void 0!==r)return 0<=parseInt(r)&&parseInt(r)<=4?(a(r),c(e),"1"===n&&0<o.length&&(parseInt(r)>=parseInt(o)?t("ppolicy-checkentropy-feedback","good"):t("ppolicy-checkentropy-feedback","bad")),"1"!==n?t("ppolicy-checkentropy-feedback","good"):void 0):-1===parseInt(r)?(a(r),c(e),t("ppolicy-checkentropy-feedback","bad")):(a(r),c(e),t("ppolicy-checkentropy-feedback","unknown"))},error:function(e,r,n){var o;if(n&&console.log("checkentropy: frontend error: ",n),(o=e?JSON.parse(e.responseText):o)&&o.error)return console.log("checkentropy: returned error: ",o)}})})}.call(this);