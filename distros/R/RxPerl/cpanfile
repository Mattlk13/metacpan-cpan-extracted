requires 'perl', '5.010';

requires 'Hash::Ordered', '0.006';
requires 'Sub::Util', '1.41';
requires 'parent';

on 'test' => sub {
    requires 'Test2::V0';
    if ("$]" >= 5.039) {
        # Promise::ES6 is broken in new Perls
        requires 'Mojo::Promise';
        requires 'Mojo::IOLoop';
    } else {
        # Promise::ES6 works fine on old Perls
        requires 'Promise::ES6';
    }
};
