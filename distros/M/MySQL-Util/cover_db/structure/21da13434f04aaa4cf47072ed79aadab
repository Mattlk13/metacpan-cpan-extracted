{"subroutine":[[2,"BEGIN"],[3,"BEGIN"],[4,"BEGIN"],[5,"BEGIN"],[6,"BEGIN"],[7,"BEGIN"],[9,"BEGIN"],[10,"BEGIN"],[167,"BUILD"],[229,"_get_fk_column"],[251,"_get_indexes_arrayref"],[274,"_fq"],[310,"_un_fq"],[324,"_get_fk_ddl"],[351,"_column_exists"],[370,"_verbose"],[398,"_verbose_sql"],[458,"apply_ddl"],[489,"describe_column"],[531,"describe_table"],[570,"drop_fks"],[622,"get_ak_constraints"],[655,"get_ak_indexs"],[660,"get_ak_indexes"],[687,"get_ak_names"],[714,"get_constraint"],[829,"get_constraints"],[891,"get_dbname"],[919,"get_depth"],[963,"get_fk_column_names"],[1008,"get_fk_constraints"],[1068,"get_fk_indexes"],[1135,"get_indexes"],[1166,"get_max_depth"],[1195,"get_other_constraints"],[1235,"get_other_indexes"],[1276,"get_pk_constraint"],[1308,"get_pk_index"],[1335,"get_pk_name"],[1353,"get_tables"],[1375,"has_ak"],[1390,"has_fks"],[1405,"has_pk"],[1421,"is_pk_auto_inc"],[1451,"is_column_nullable"],[1474,"is_fk_column"],[1504,"is_self_referencing"],[1560,"table_exists"],[1602,"use_db"],[1629,"clear_cache"],[1647,"clone_dbh"]],"statement":[2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7,9,9,9,10,10,10,167,169,170,172,173,176,179,181,183,195,198,201,202,203,206,229,230,232,233,235,237,239,239,241,242,247,251,252,254,256,257,260,261,262,264,265,266,269,270,274,284,285,286,289,292,295,296,298,303,306,310,316,317,320,324,325,326,328,329,330,332,334,335,337,338,339,340,341,343,351,352,354,355,357,359,361,362,366,370,379,380,382,383,385,386,387,388,390,391,392,398,407,408,410,411,413,414,415,416,418,419,420,458,464,465,468,489,496,497,500,502,503,504,531,532,534,536,538,539,542,546,547,548,550,551,552,555,556,570,571,573,574,575,576,578,581,584,585,587,588,590,592,594,598,600,604,622,623,625,627,629,630,631,632,636,655,656,660,663,664,667,668,670,671,672,676,687,688,690,691,692,695,714,724,726,727,728,729,730,734,741,742,744,745,746,750,753,758,760,760,762,763,765,766,768,774,780,781,786,787,788,790,791,793,794,795,796,801,829,830,832,834,836,838,839,842,844,857,858,863,865,866,867,869,870,872,873,873,875,877,877,880,881,891,892,894,919,920,922,923,926,928,929,932,934,936,938,939,943,943,945,946,946,949,951,963,972,974,976,978,980,982,982,984,985,989,1008,1016,1017,1020,1021,1022,1023,1025,1028,1031,1033,1035,1036,1038,1039,1041,1043,1044,1050,1068,1071,1072,1075,1076,1077,1079,1080,1080,1082,1083,1083,1085,1087,1088,1089,1092,1093,1097,1098,1099,1105,1135,1136,1138,1139,1142,1143,1145,1146,1147,1149,1149,1151,1154,1166,1168,1170,1172,1173,1174,1175,1175,1178,1195,1198,1199,1202,1203,1205,1206,1208,1209,1211,1212,1213,1215,1218,1235,1241,1242,1245,1246,1248,1249,1251,1252,1253,1254,1256,1259,1276,1277,1279,1280,1283,1285,1286,1287,1291,1308,1309,1315,1317,1318,1320,1324,1335,1336,1338,1339,1342,1353,1355,1357,1358,1359,1361,1362,1365,1375,1376,1378,1380,1390,1391,1393,1395,1405,1406,1408,1410,1421,1422,1424,1425,1427,1429,1430,1435,1436,1441,1451,1458,1460,1461,1464,1474,1475,1477,1478,1480,1482,1484,1484,1486,1487,1492,1504,1513,1515,1517,1518,1533,1533,1535,1536,1538,1544,1545,1550,1560,1561,1563,1564,1565,1568,1570,1571,1574,1577,1578,1579,1581,1582,1583,1586,1589,1592,1602,1603,1605,1606,1607,1609,1629,1631,1632,1633,1634,1647,1649,1651,1652,1654],"file":"blib/lib/MySQL/Util.pm","digest":"21da13434f04aaa4cf47072ed79aadab","branch":[[169,{"text":"if (defined $ENV{'VERBOSE_FUNCS'})"}],[181,{"text":"if (not $dbh) { }"}],[202,{"text":"if ($schema)"}],[241,{"text":"if ($$fk_href{'COLUMN_NAME'} eq $column)"}],[256,{"text":"if (defined $self->$cache->{$table})"}],[285,{"text":"if ($table =~ /\\w\\.\\w/) { }"}],[285,{"text":"elsif ($schema) { }"}],[284,{"text":"if ($fq)"}],[298,{"text":"if $curr ne $1"}],[295,{"text":"if ($table =~ /^(\\w+)\\.(\\w+)$/)"}],[316,{"text":"if ($table =~ /^(\\w+)\\.(\\w+)$/)"}],[338,{"text":"if ($item =~ /CONSTRAINT `$fk` FOREIGN KEY/)"}],[354,{"text":"unless my $table = $a{'table'}"}],[355,{"text":"unless my $column = $a{'column'}"}],[361,{"text":"if ($$col_href{'FIELD'} eq $column)"}],[387,{"text":"if $func_counter"}],[385,{"text":"if ($self->_verbose_funcs->{$key})"}],[415,{"text":"if $func_counter"}],[413,{"text":"if ($self->_verbose_funcs->{$key})"}],[496,{"text":"unless ($self->_column_exists('table', $table, 'column', $column))"}],[503,{"text":"if ($$col_href{'FIELD'} =~ /^$column$/i)"}],[538,{"text":"if (defined $self->$cache->{$table})"}],[576,{"text":"unless defined $tables_aref"}],[574,{"text":"if (not defined $table) { }"}],[623,{"text":"unless my $table = shift()"}],[631,{"text":"if ($$cons{$con_name}[0]{'CONSTRAINT_TYPE'} eq 'UNIQUE')"}],[663,{"text":"unless ($table =~ /\\./)"}],[671,{"text":"if ($$indexes{$index}[0]{'NON_UNIQUE'} == 0)"}],[690,{"text":"if ($self->has_ak($table))"}],[729,{"text":"if ($unfq_schema ne $schema)"}],[728,{"text":"if ($schema)"}],[726,{"text":"if (defined $table)"}],[745,{"text":"if ($cons_name eq $name)"}],[741,{"text":"if (defined $fq_table)"}],[753,{"text":"unless $schema"}],[766,{"text":"if ($cons_name eq $name)"}],[762,{"text":"if (defined $self->$cache->{$t})"}],[780,{"text":"unless ($self->span)"}],[794,{"text":"if ($cons_name eq $name)"}],[838,{"text":"if (defined $self->$cache->{$table})"}],[842,{"text":"unless $self->table_exists($table)"}],[857,{"text":"unless ($self->span)"}],[873,{"text":"unless (defined $$href{$name})"}],[892,{"text":"if @_"}],[920,{"text":"unless my $table = shift()"}],[922,{"text":"unless ($table =~ /\\./)"}],[928,{"text":"if (defined $$self{$cache}{$table})"}],[943,{"text":"if ($parent_table eq $table)"}],[946,{"text":"if ($parent_depth >= $depth)"}],[980,{"text":"if $name and $name ne $fk_name"}],[1016,{"text":"if (defined $table and not $table =~ /\\./)"}],[1023,{"text":"unless defined $tables_aref"}],[1021,{"text":"if (not defined $table) { }"}],[1043,{"text":"if ($type eq 'FOREIGN KEY')"}],[1071,{"text":"unless ($table =~ /\\./)"}],[1089,{"text":"if ($index_cols[$i]{'COLUMN_NAME'} ne $con_cols[$i]{'COLUMN_NAME'})"}],[1097,{"text":"if ($match)"}],[1085,{"text":"if (scalar @con_cols == scalar @index_cols)"}],[1136,{"text":"unless my $table = shift()"}],[1138,{"text":"unless ($table =~ /\\./)"}],[1149,{"text":"unless (exists $h{$key_name})"}],[1175,{"text":"if ($depth > $max)"}],[1198,{"text":"unless ($table =~ /\\./)"}],[1211,{"text":"if $type eq 'PRIMARY KEY'"}],[1212,{"text":"if $type eq 'FOREIGN KEY'"}],[1213,{"text":"if $type eq 'UNIQUE'"}],[1241,{"text":"unless ($table =~ /\\./)"}],[1252,{"text":"if $name eq 'PRIMARY'"}],[1253,{"text":"if defined $$ak{$name}"}],[1254,{"text":"if defined $$fk{$name}"}],[1279,{"text":"unless ($table =~ /\\./)"}],[1286,{"text":"if ($$cons{$con_name}[0]{'CONSTRAINT_TYPE'} eq 'PRIMARY KEY')"}],[1318,{"text":"if ($name eq 'PRIMARY')"}],[1338,{"text":"if ($self->has_pk($table))"}],[1435,{"text":"if ($$col_desc_href{'EXTRA'} =~ /auto/)"}],[1424,{"text":"if ($self->has_pk($table))"}],[1460,{"text":"if ($$desc{'NULL'} eq 'YES')"}],[1486,{"text":"if ($$fk_href{'COLUMN_NAME'} eq $column)"}],[1518,{"text":"if $name and $name ne $con_name"}],[1544,{"text":"if ($ref_fq_table eq $fq_table)"}],[1561,{"text":"unless my $table = shift()"}],[1564,{"text":"unless ($table =~ /\\./)"}],[1571,{"text":"if ($schema ne $self->_schema)"}],[1586,{"text":"if ($schema ne $self->_schema)"}]],"start":{"274":{"_fq":[{"subroutine":11,"statement":63,"branch":5,"condition":2}]},"398":{"_verbose_sql":[{"subroutine":16,"statement":114,"branch":17,"condition":2}]},"370":{"_verbose":[{"subroutine":15,"statement":102,"branch":15,"condition":2}]},"660":{"get_ak_indexes":[{"subroutine":23,"statement":181,"branch":26,"condition":2}]},"7":{"BEGIN":[{"subroutine":5,"statement":15,"branch":null,"condition":null}]},"1195":{"get_other_constraints":[{"subroutine":34,"statement":353,"branch":62,"condition":6}]},"489":{"describe_column":[{"subroutine":18,"statement":130,"branch":19,"condition":2}]},"2":{"BEGIN":[{"subroutine":null,"statement":null,"branch":null,"condition":null}]},"1602":{"use_db":[{"subroutine":48,"statement":478,"branch":84,"condition":14}]},"324":{"_get_fk_ddl":[{"subroutine":13,"statement":78,"branch":11,"condition":2}]},"1276":{"get_pk_constraint":[{"subroutine":36,"statement":380,"branch":70,"condition":6}]},"1375":{"has_ak":[{"subroutine":40,"statement":409,"branch":74,"condition":7}]},"1474":{"is_fk_column":[{"subroutine":45,"statement":436,"branch":77,"condition":11}]},"891":{"get_dbname":[{"subroutine":27,"statement":257,"branch":43,"condition":4}]},"351":{"_column_exists":[{"subroutine":14,"statement":93,"branch":12,"condition":2}]},"570":{"drop_fks":[{"subroutine":20,"statement":152,"branch":22,"condition":2}]},"963":{"get_fk_column_names":[{"subroutine":29,"statement":279,"branch":49,"condition":4}]},"1390":{"has_fks":[{"subroutine":41,"statement":413,"branch":74,"condition":8}]},"1235":{"get_other_indexes":[{"subroutine":35,"statement":367,"branch":66,"condition":6}]},"1504":{"is_self_referencing":[{"subroutine":46,"statement":447,"branch":78,"condition":13}]},"310":{"_un_fq":[{"subroutine":12,"statement":74,"branch":10,"condition":2}]},"458":{"apply_ddl":[{"subroutine":17,"statement":126,"branch":19,"condition":2}]},"655":{"get_ak_indexs":[{"subroutine":22,"statement":179,"branch":26,"condition":2}]},"919":{"get_depth":[{"subroutine":28,"statement":260,"branch":44,"condition":4}]},"531":{"describe_table":[{"subroutine":19,"statement":137,"branch":21,"condition":2}]},"622":{"get_ak_constraints":[{"subroutine":21,"statement":170,"branch":24,"condition":2}]},"714":{"get_constraint":[{"subroutine":25,"statement":196,"branch":29,"condition":3}]},"1008":{"get_fk_constraints":[{"subroutine":30,"statement":290,"branch":50,"condition":5}]},"829":{"get_constraints":[{"subroutine":26,"statement":232,"branch":39,"condition":3}]},"687":{"get_ak_names":[{"subroutine":24,"statement":190,"branch":28,"condition":2}]},"10":{"BEGIN":[{"subroutine":7,"statement":21,"branch":null,"condition":null}]},"1629":{"clear_cache":[{"subroutine":49,"statement":484,"branch":84,"condition":14}]},"1405":{"has_pk":[{"subroutine":42,"statement":417,"branch":74,"condition":9}]},"1308":{"get_pk_index":[{"subroutine":37,"statement":389,"branch":72,"condition":6}]},"1421":{"is_pk_auto_inc":[{"subroutine":43,"statement":421,"branch":74,"condition":10}]},"167":{"BUILD":[{"subroutine":8,"statement":24,"branch":null,"condition":null}]},"1353":{"get_tables":[{"subroutine":39,"statement":401,"branch":74,"condition":7}]},"1135":{"get_indexes":[{"subroutine":32,"statement":331,"branch":58,"condition":6}]},"1068":{"get_fk_indexes":[{"subroutine":31,"statement":309,"branch":54,"condition":6}]},"6":{"BEGIN":[{"subroutine":4,"statement":12,"branch":null,"condition":null}]},"251":{"_get_indexes_arrayref":[{"subroutine":10,"statement":50,"branch":4,"condition":2}]},"1166":{"get_max_depth":[{"subroutine":33,"statement":344,"branch":61,"condition":6}]},"3":{"BEGIN":[{"subroutine":1,"statement":3,"branch":null,"condition":null}]},"1647":{"clone_dbh":[{"subroutine":50,"statement":489,"branch":84,"condition":14}]},"9":{"BEGIN":[{"subroutine":6,"statement":18,"branch":null,"condition":null}]},"1560":{"table_exists":[{"subroutine":47,"statement":460,"branch":80,"condition":14}]},"1335":{"get_pk_name":[{"subroutine":38,"statement":396,"branch":73,"condition":6}]},"4":{"BEGIN":[{"subroutine":2,"statement":6,"branch":null,"condition":null}]},"1451":{"is_column_nullable":[{"subroutine":44,"statement":431,"branch":76,"condition":11}]},"229":{"_get_fk_column":[{"subroutine":9,"statement":39,"branch":3,"condition":null}]},"5":{"BEGIN":[{"subroutine":3,"statement":9,"branch":null,"condition":null}]},"-1":{"__COVER__":[{"subroutine":51,"statement":494,"branch":84,"condition":14}]}},"condition":[[232,{"left":"$a{'table'}","right":"confess('missing table arg')","type":"or_3","op":"||"}],[233,{"left":"$a{'column'}","right":"confess('missing column arg')","type":"or_3","op":"||"}],[688,{"left":"shift()","right":"confess('missing table arg')","type":"or_3","op":"||"}],[830,{"left":"shift()","right":"confess('missing table arg')","type":"or_3","op":"||"}],[980,{"left":"$name","right":"$name ne $fk_name","type":"and_3","op":"and"}],[1016,{"left":"defined $table","right":"not $table =~ /\\./","type":"and_3","op":"and"}],[1336,{"left":"shift()","right":"confess('missing table arg')","type":"or_3","op":"||"}],[1376,{"left":"shift()","right":"confess('missing table arg')","type":"or_3","op":"||"}],[1391,{"left":"shift()","right":"confess('missing table arg')","type":"or_3","op":"||"}],[1406,{"left":"shift()","right":"confess('missing table arg')","type":"or_3","op":"||"}],[1422,{"left":"shift()","right":"confess('missing table arg')","type":"or_3","op":"||"}],[1477,{"left":"$a{'table'}","right":"confess('missing table arg')","type":"or_3","op":"||"}],[1478,{"left":"$a{'column'}","right":"confess('missing column arg')","type":"or_3","op":"||"}],[1518,{"left":"$name","right":"$name ne $con_name","type":"and_3","op":"and"}]]}