Summary: Sendmail-AbuseIPDB Perl module
Name: perl-Sendmail-AbuseIPDB
Version: 0.22
Release: 1
License: GPL or Artistic
Group: Development/Libraries
URL: http://search.cpan.org/dist/Sendmail-AbuseIPDB/
Prefix: /usr
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
BuildArch: noarch
BuildRequires: perl(ExtUtils::MakeMaker)
Requires: curl
Requires: perl(URI) >= 1.4
Requires: perl(JSON) >= 2.15
Requires: perl(:MODULE_COMPAT_%(eval "`%{__perl} -V:version`"; echo $version))
Source0: Sendmail-AbuseIPDB-0.22.tar.gz

%description
%{summary}.

%prep
%setup -q -n Sendmail-AbuseIPDB-%{version}

%build
CFLAGS="$RPM_OPT_FLAGS" %{__perl} Makefile.PL INSTALLDIRS=vendor
make %{?_smp_mflags} OPTIMIZE="$RPM_OPT_FLAGS"

%install
rm -rf $RPM_BUILD_ROOT

make pure_install PERL_INSTALL_ROOT=$RPM_BUILD_ROOT
find $RPM_BUILD_ROOT -name .packlist -exec /bin/rm "{}" ";"


%clean
rm -rf $RPM_BUILD_ROOT


%files
%defattr(-,root,root,-)
%doc Changes README
%{perl_vendorlib}/Sendmail/AbuseIPDB.pm
%{_mandir}/man3/Sendmail::AbuseIPDB.3pm.gz

%changelog
* Wed Jul 14 2021 <ttndy@cpan.org> - 0.22-1
- Reporting upgraded to v2 with no fallback. Tidy up docs.

* Fri Jun 25 2021 <ttndy@cpan.org> - 0.21-1
- Clean up documentation and better examples.

* Sat Jun 19 2021 <ttndy@cpan.org> - 0.20-2
- Build OK on Centos 8 (64 bit).

* Sun Oct 11 2020 <ttndy@cpan.org> - 0.20-1
- Support for API v2 and blacklist download.

* Fri Sep 29 2017 <ttndy@cpan.org> - 0.10-1
- Might have finally got the thing to install in the correct directory (documentation is kind of unhelpful).

* Sun Sep 24 2017 <ttndy@cpan.org> - 0.07-1
- Don't use local, include example

* Wed Sep 20 2017 <ttndy@cpan.org> - 0.05-8
- Specfile autogenerated with command '/usr/bin/cpanflute2 Sendmail-AbuseIPDB-0.05.tar.gz'
