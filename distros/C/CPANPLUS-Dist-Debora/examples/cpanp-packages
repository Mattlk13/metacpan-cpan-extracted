#!/bin/sh

# List Perl distributions that were installed with CPANPLUS.

set -e

if [ -f /etc/debian_version ]; then
    dpkg-query -W -f '${Package} ${Version}\n' | \
    perl -anE 'say $F[0] if $F[1] =~ /cpanplus/' | sort
else
    rpm -qa --qf '%{NAME} %{VENDOR}\n' | \
    perl -anE 'say $F[0] if $F[1] =~ /CPANPLUS/' | sort
fi
