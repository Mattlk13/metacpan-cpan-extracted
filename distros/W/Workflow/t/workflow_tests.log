20:38:44 INFO TestDBUtil TestDBUtil (53) Removing old database file... 
20:38:44 INFO TestDBUtil TestDBUtil (57) Connecting to SQLite database with DSN 'DBI:SQLite:dbname=db/workflow.db'... 
20:38:44 INFO TestDBUtil TestDBUtil (61) Connected to database ok 
20:38:44 DEBUG TestDBUtil TestDBUtil (19) Creating table:
CREATE TABLE workflow (
  workflow_id       integer not null primary key,
  type              varchar(50) not null,
  state             varchar(30) not null,
  last_update       timestamp
) 
20:38:44 DEBUG TestDBUtil TestDBUtil (19) Creating table:


CREATE TABLE workflow_history (
  workflow_hist_id  integer not null primary key,
  workflow_id       int not null,
  action            varchar(25) not null,
  description       varchar(255) null,
  state             varchar(30) not null,
  workflow_user     varchar(50) null,
  history_date      timestamp,
  foreign key (workflow_id) references workflow(workflow_id)
) 
20:38:44 DEBUG TestDBUtil TestDBUtil (19) Creating table:
CREATE TABLE ticket (
  ticket_id    varchar(8) not null,
  type         varchar(10) not null,
  subject      varchar(50) not null,
  description  text null,
  creator      varchar(30) not null,
  status       varchar(30) null,
  due_date     date null,
  last_update  datetime not null,
  primary key( ticket_id )
) 
20:38:44 DEBUG TestDBUtil TestDBUtil (19) Creating table:


CREATE TABLE workflow_ticket (
  workflow_id  int not null,
  ticket_id    varchar(8) not null,
  primary key ( workflow_id )
) 
20:38:44 INFO TestDBUtil TestDBUtil (25) Created tables ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (28) Trying to import 'FACTORY' of type 'Workflow::Factory' to 'Workflow' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (82) Creating empty instance of 'Workflow::Factory' factory for singleton use 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (35) Target 'Workflow::FACTORY' not yet defined, creating subroutine on the fly 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (28) Trying to import 'FACTORY' of type 'Workflow::Factory' to 'Workflow::Action' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (35) Target 'Workflow::Action::FACTORY' not yet defined, creating subroutine on the fly 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (28) Trying to import 'FACTORY' of type 'Workflow::Factory' to 'Workflow::State' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (35) Target 'Workflow::State::FACTORY' not yet defined, creating subroutine on the fly 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (589) Adding configuration for persister 'TestPersister' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (597) Trying to include persister class 'Workflow::Persister::DBI::ExtraData'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (606) Included persister 'TestPersister' class 'Workflow::Persister::DBI::ExtraData' ok; now try to instantiate persister... 
20:38:44 INFO Workflow.Persister.DBI.ExtraData Workflow::Persister (31) Initializing persister 'TestPersister' 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (84) Connected to database 'dbi:SQLite:dbname=db/workflow.db' and assigned to persister ok 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (42) Pulled driver 'SQLite' from DBI DSN 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (108) Assigning ID generators for SQLite 
20:38:44 DEBUG Workflow.Persister.DBI.AutoGeneratedId Workflow::Persister::DBI::AutoGeneratedId (37) Using database func() property 'last_insert_rowid' for ID generator 
20:38:44 INFO Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (45) Assigned workflow generator 'Workflow::Persister::DBI::AutoGeneratedId'; history generator 'Workflow::Persister::DBI::AutoGeneratedId' 
20:38:44 INFO Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (54) Assigned workflow table 'workflow'; history table 'workflow_history' 
20:38:44 INFO Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI::ExtraData (45) Configured extra data fetch with: workflow_ticket; workflow_id,ticket_id;  
20:38:44 DEBUG Workflow.Factory Workflow::Factory (618) Instantiated persister 'TestPersister' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (116) Using 'action' configuration file(s): t/workflow_action.xml, t/workflow_action_type.xml 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (116) Using 'condition' configuration file(s): t/workflow_condition.xml, t/workflow_condition_type.xml 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (116) Using 'validator' configuration file(s): t/workflow_validator.xml 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (116) Using 'workflow' configuration file(s): t/workflow.xml, t/workflow_type.xml, t/workflow_evaluate_condition.xml 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (119) Adding condition configurations... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'condition' XML config file 't/workflow_condition.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_condition.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'condition' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (674) Adding configuration for condition 'HasUser' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (682) Trying to include condition class 'Workflow::Condition::HasUser' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (690) Included condition 'HasUser' class 'Workflow::Condition::HasUser' ok; now try to instantiate condition... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (702) Instantiated condition 'HasUser' ok 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'condition' XML config file 't/workflow_condition_type.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_condition_type.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'condition' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (674) Adding configuration for condition 'HasUser' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (682) Trying to include condition class 'TestApp::Condition::HasUserType' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (690) Included condition 'HasUser' class 'TestApp::Condition::HasUserType' ok; now try to instantiate condition... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (702) Instantiated condition 'HasUser' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (135) Adding validator configurations... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'validator' XML config file 't/workflow_validator.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_validator.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'validator' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (764) Adding configuration for validator 'DateValidator' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (773) Trying to include validator class 'Workflow::Validator::MatchesDateFormat' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (781) Included validator 'DateValidator' class 'Workflow::Validator::MatchesDateFormat'  ok; now try to instantiate validator... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (793) Instantiated validator 'DateValidator' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (151) Adding persister configurations... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (167) Adding action configurations... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'action' XML config file 't/workflow_action.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_action.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'action' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'TIX_NEW' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketCreate'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (28) Trying to import 'FACTORY' of type 'Workflow::Factory' to 'TestApp::Ticket' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (35) Target 'TestApp::Ticket::FACTORY' not yet defined, creating subroutine on the fly 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (28) Trying to import 'FACTORY' of type 'Workflow::Factory' to 'TestApp::Action::TicketCreate' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (35) Target 'TestApp::Action::TicketCreate::FACTORY' not yet defined, creating subroutine on the fly 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_NEW' class 'TestApp::Action::TicketCreate' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'TIX_COMMENT' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketComment'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_COMMENT' class 'TestApp::Action::TicketComment' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'TIX_EDIT' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketUpdate'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_EDIT' class 'TestApp::Action::TicketUpdate' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'TIX_CLOSE' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketUpdate'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_CLOSE' class 'TestApp::Action::TicketUpdate' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'TIX_REOPEN' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketUpdate'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_REOPEN' class 'TestApp::Action::TicketUpdate' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'null' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'Workflow::Action::Null'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'null' class 'Workflow::Action::Null' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'null2' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'Workflow::Action::Null'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'null2' class 'Workflow::Action::Null' ok 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'action' XML config file 't/workflow_action_type.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_action_type.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'action' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'Type2', action 'TIX_NEW' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketCreateType'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (28) Trying to import 'FACTORY' of type 'Workflow::Factory' to 'TestApp::Action::TicketCreateType' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (35) Target 'TestApp::Action::TicketCreateType::FACTORY' not yet defined, creating subroutine on the fly 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_NEW' class 'TestApp::Action::TicketCreateType' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'Type2', action 'Ticket_Close' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketUpdate'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'Ticket_Close' class 'TestApp::Action::TicketUpdate' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (179) Adding workflow configurations... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'workflow' XML config file 't/workflow.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'workflow' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state INITIAL 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_NEW' to 'Workflow::State' 'INITIAL' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state TIX_CREATED 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_COMMENT' to 'Workflow::State' 'TIX_CREATED' 
20:38:44 DEBUG Workflow.State Workflow::State (238) Assigned multiple resulting states in 'TIX_CREATED' and action 'TIX_COMMENT' from array ok 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_EDIT' to 'Workflow::State' 'TIX_CREATED' 
20:38:44 INFO Workflow.State Workflow::State (304) Fetching condition 'HasUser' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state TIX_IN_PROGRESS 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_CLOSE' to 'Workflow::State' 'TIX_IN_PROGRESS' 
20:38:44 INFO Workflow.State Workflow::State (304) Fetching condition 'HasUser' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state TIX_CLOSED 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_REOPEN' to 'Workflow::State' 'TIX_CLOSED' 
20:38:44 INFO Workflow.State Workflow::State (304) Fetching condition 'HasUser' 
20:38:44 INFO Workflow.Factory Workflow::Factory (313) No observers added to 'Ticket' 
20:38:44 INFO Workflow.Factory Workflow::Factory (258) Added all workflow states... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'workflow' XML config file 't/workflow_type.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_type.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'workflow' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state INITIAL 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_NEW' to 'Workflow::State' 'INITIAL' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state Ticket_Created 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'Ticket_Close' to 'Workflow::State' 'Ticket_Created' 
20:38:44 INFO Workflow.State Workflow::State (304) Fetching condition 'HasUser' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state Ticket_Closed 
20:38:44 INFO Workflow.Factory Workflow::Factory (313) No observers added to 'Type2' 
20:38:44 INFO Workflow.Factory Workflow::Factory (258) Added all workflow states... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'workflow' XML config file 't/workflow_evaluate_condition.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_evaluate_condition.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'workflow' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state INITIAL 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_NEW' to 'Workflow::State' 'INITIAL' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state Ticket_Created 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'Ticket_Close' to 'Workflow::State' 'Ticket_Created' 
20:38:44 INFO Workflow.Condition.Evaluate Workflow::Condition::Evaluate (27) Added evaluation condition with '1' 
20:38:44 INFO Workflow.Condition.Evaluate Workflow::Condition::Evaluate (27) Added evaluation condition with '1' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state Ticket_Closed 
20:38:44 INFO Workflow.Factory Workflow::Factory (313) No observers added to 'TestCondition' 
20:38:44 INFO Workflow.Factory Workflow::Factory (258) Added all workflow states... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (589) Adding configuration for persister 'TestPersister' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (597) Trying to include persister class 'Workflow::Persister::DBI::ExtraData'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (606) Included persister 'TestPersister' class 'Workflow::Persister::DBI::ExtraData' ok; now try to instantiate persister... 
20:38:44 INFO Workflow.Persister.DBI.ExtraData Workflow::Persister (31) Initializing persister 'TestPersister' 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (84) Connected to database 'dbi:SQLite:dbname=db/workflow.db' and assigned to persister ok 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (42) Pulled driver 'SQLite' from DBI DSN 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (108) Assigning ID generators for SQLite 
20:38:44 DEBUG Workflow.Persister.DBI.AutoGeneratedId Workflow::Persister::DBI::AutoGeneratedId (37) Using database func() property 'last_insert_rowid' for ID generator 
20:38:44 INFO Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (45) Assigned workflow generator 'Workflow::Persister::DBI::AutoGeneratedId'; history generator 'Workflow::Persister::DBI::AutoGeneratedId' 
20:38:44 INFO Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (54) Assigned workflow table 'workflow'; history table 'workflow_history' 
20:38:44 INFO Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI::ExtraData (45) Configured extra data fetch with: workflow_ticket; workflow_id,ticket_id;  
20:38:44 DEBUG Workflow.Factory Workflow::Factory (618) Instantiated persister 'TestPersister' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (116) Using 'action' configuration file(s): t/workflow_action.xml, t/workflow_action_type.xml 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (116) Using 'condition' configuration file(s): t/workflow_condition.xml, t/workflow_condition_type.xml 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (116) Using 'validator' configuration file(s): t/workflow_validator.xml 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (116) Using 'workflow' configuration file(s): t/workflow.xml, t/workflow_type.xml, t/workflow_evaluate_condition.xml 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (119) Adding condition configurations... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'condition' XML config file 't/workflow_condition.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_condition.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'condition' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (674) Adding configuration for condition 'HasUser' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (682) Trying to include condition class 'Workflow::Condition::HasUser' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (690) Included condition 'HasUser' class 'Workflow::Condition::HasUser' ok; now try to instantiate condition... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (702) Instantiated condition 'HasUser' ok 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'condition' XML config file 't/workflow_condition_type.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_condition_type.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'condition' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (674) Adding configuration for condition 'HasUser' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (682) Trying to include condition class 'TestApp::Condition::HasUserType' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (690) Included condition 'HasUser' class 'TestApp::Condition::HasUserType' ok; now try to instantiate condition... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (702) Instantiated condition 'HasUser' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (135) Adding validator configurations... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'validator' XML config file 't/workflow_validator.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_validator.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'validator' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (764) Adding configuration for validator 'DateValidator' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (773) Trying to include validator class 'Workflow::Validator::MatchesDateFormat' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (781) Included validator 'DateValidator' class 'Workflow::Validator::MatchesDateFormat'  ok; now try to instantiate validator... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (793) Instantiated validator 'DateValidator' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (151) Adding persister configurations... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (167) Adding action configurations... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'action' XML config file 't/workflow_action.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_action.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'action' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'TIX_NEW' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketCreate'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_NEW' class 'TestApp::Action::TicketCreate' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'TIX_COMMENT' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketComment'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_COMMENT' class 'TestApp::Action::TicketComment' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'TIX_EDIT' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketUpdate'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_EDIT' class 'TestApp::Action::TicketUpdate' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'TIX_CLOSE' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketUpdate'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_CLOSE' class 'TestApp::Action::TicketUpdate' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'TIX_REOPEN' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketUpdate'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_REOPEN' class 'TestApp::Action::TicketUpdate' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'null' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'Workflow::Action::Null'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'null' class 'Workflow::Action::Null' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'default', action 'null2' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'Workflow::Action::Null'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'null2' class 'Workflow::Action::Null' ok 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'action' XML config file 't/workflow_action_type.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_action_type.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'action' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'Type2', action 'TIX_NEW' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketCreateType'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'TIX_NEW' class 'TestApp::Action::TicketCreateType' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (525) Adding configuration for type 'Type2', action 'Ticket_Close' 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (535) Trying to include action class 'TestApp::Action::TicketUpdate'... 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (544) Included action 'Ticket_Close' class 'TestApp::Action::TicketUpdate' ok 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (179) Adding workflow configurations... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'workflow' XML config file 't/workflow.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'workflow' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state INITIAL 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_NEW' to 'Workflow::State' 'INITIAL' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state TIX_CREATED 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_COMMENT' to 'Workflow::State' 'TIX_CREATED' 
20:38:44 DEBUG Workflow.State Workflow::State (238) Assigned multiple resulting states in 'TIX_CREATED' and action 'TIX_COMMENT' from array ok 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_EDIT' to 'Workflow::State' 'TIX_CREATED' 
20:38:44 INFO Workflow.State Workflow::State (304) Fetching condition 'HasUser' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state TIX_IN_PROGRESS 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_CLOSE' to 'Workflow::State' 'TIX_IN_PROGRESS' 
20:38:44 INFO Workflow.State Workflow::State (304) Fetching condition 'HasUser' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state TIX_CLOSED 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_REOPEN' to 'Workflow::State' 'TIX_CLOSED' 
20:38:44 INFO Workflow.State Workflow::State (304) Fetching condition 'HasUser' 
20:38:44 INFO Workflow.Factory Workflow::Factory (313) No observers added to 'Ticket' 
20:38:44 INFO Workflow.Factory Workflow::Factory (258) Added all workflow states... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'workflow' XML config file 't/workflow_type.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_type.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'workflow' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state INITIAL 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_NEW' to 'Workflow::State' 'INITIAL' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state Ticket_Created 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'Ticket_Close' to 'Workflow::State' 'Ticket_Created' 
20:38:44 INFO Workflow.State Workflow::State (304) Fetching condition 'HasUser' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state Ticket_Closed 
20:38:44 INFO Workflow.Factory Workflow::Factory (313) No observers added to 'Type2' 
20:38:44 INFO Workflow.Factory Workflow::Factory (258) Added all workflow states... 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (57) Will parse 'workflow' XML config file 't/workflow_evaluate_condition.xml' 
20:38:44 INFO Workflow.Config.XML Workflow::Config::XML (68) Parsed XML 't/workflow_evaluate_condition.xml' ok 
20:38:44 DEBUG Workflow.Config.XML Workflow::Config::XML (77) Adding single configuration for 'workflow' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state INITIAL 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'TIX_NEW' to 'Workflow::State' 'INITIAL' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state Ticket_Created 
20:38:44 DEBUG Workflow.State Workflow::State (212) Adding action 'Ticket_Close' to 'Workflow::State' 'Ticket_Created' 
20:38:44 INFO Workflow.Condition.Evaluate Workflow::Condition::Evaluate (27) Added evaluation condition with '1' 
20:38:44 INFO Workflow.Condition.Evaluate Workflow::Condition::Evaluate (27) Added evaluation condition with '1' 
20:38:44 DEBUG Workflow.State Workflow::State (188) Constructing 'Workflow::State' object for state Ticket_Closed 
20:38:44 INFO Workflow.Factory Workflow::Factory (313) No observers added to 'TestCondition' 
20:38:44 INFO Workflow.Factory Workflow::Factory (258) Added all workflow states... 
20:38:44 INFO Workflow Workflow (222) Instantiating workflow of with ID '' and type 'Ticket' with current state 'INITIAL' 
20:38:44 DEBUG Workflow Workflow (241) Assigning parameter 'persister' -> 'TestPersister' 
20:38:44 INFO Workflow.Factory Workflow::Factory (347) Instantiated workflow object properly, persisting... 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (212) Will use SQL: INSERT INTO "workflow" ( "type", "state", "last_update" ) VALUES ( ?, ?, ? ) 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (213) Will use parameters: Ticket, INITIAL, 2021-08-01 18:38 
20:38:44 INFO Workflow.Factory Workflow::Factory (351) Persisted workflow with ID '1'; creating history... 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (321) Will use SQL: INSERT INTO "workflow_history" ( "workflow_id", "action", "description", "state", "workflow_user", "history_date" ) VALUES ( ?, ?, ?, ?, ?, ? ) 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (322) Will use parameters: 1, Create workflow, Create new workflow, INITIAL, n/a, 2021-08-01 18:38 
20:38:44 INFO Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (342) Workflow history entry 1 created ok 
20:38:44 INFO Workflow.Factory Workflow::Factory (365) Created history object ok 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (401) Committed transaction. 
20:38:44 DEBUG Workflow Workflow (345) Finding Workflow::State object for state [given: INITIAL] [internal: INITIAL] 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (248) Will use SQL: SELECT "state", "last_update" FROM "workflow" WHERE "workflow_id" = ? 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI (249) Will use parameters: 1 
20:38:44 DEBUG Workflow.Factory Workflow::Factory (396) Fetched data for workflow '1' ok: [State: INITIAL] [Last update: 2021-08-01T18:38:00] 
20:38:44 INFO Workflow Workflow (222) Instantiating workflow of with ID '1' and type 'Ticket' with current state 'INITIAL' 
20:38:44 DEBUG Workflow Workflow (241) Assigning parameter 'persister' -> 'TestPersister' 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI::ExtraData (54) Fetching extra workflow data for '1' 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI::ExtraData (65) Using SQL: SELECT "workflow_id", "ticket_id" FROM "workflow_ticket" WHERE workflow_id = ? 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI::ExtraData (66) Bind parameters: 1 
20:38:44 DEBUG Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI::ExtraData (78) Prepared/executed extra data fetch ok 
20:38:44 INFO Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI::ExtraData (86) Set data from workflow_ticket.workflow_id into context key workflow_id ok 
20:38:44 INFO Workflow.Persister.DBI.ExtraData Workflow::Persister::DBI::ExtraData (86) Set data from workflow_ticket.ticket_id into context key ticket_id ok 
